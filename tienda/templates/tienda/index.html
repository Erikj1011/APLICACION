{% extends 'tienda/base.html' %}
{% load static %}
{% block content %}
<div class="hero">
    <img src="{% static 'tienda/img/cohete.png' %}" alt="Cohete" class="cohete">
    <h2>Bienvenido a la Tienda GamingWorldSoftware</h2>
    <p>Explora nuestros videojuegos y consolas.</p>
 </div>

<section class="productos">
    {% for juego in videojuegos %}
        <div class="producto">
            {% if juego.imagen %}
                <img src="{{ juego.imagen.url }}" alt="{{ juego.nombre }}" onerror="fallback(this)">
            {% else %}
                <img src="{% static 'tienda/img/placeholder.svg' %}" alt="placeholder">
            {% endif %}
            <h3>{{ juego.nombre }}</h3>
            <p>{{ juego.descripcion|truncatechars:80 }}</p>
            <p class="precio">${{ juego.precio }}</p>
            <div class="acciones">
                <a href="{% url 'detalle_videojuego' juego.pk %}" class="btn">Ver detalles</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'agregar_carrito' juego.pk %}" class="btn">Agregar</a>
                {% else %}
                    <a href="{% url 'login' %}?next={% url 'detalle_videojuego' juego.pk %}" class="btn">Inicia sesión para añadir</a>
                {% endif %}
            </div>
        </div>
    {% empty %}
        <p>No hay videojuegos disponibles.</p>
    {% endfor %}
</section>
{% endblock %}
